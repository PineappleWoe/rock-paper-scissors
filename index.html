<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors | The Odin Project</title>
</head>
<body>
    <script>
        function game(){

            // Score
            let playerScore = 0;
            let computerScore = 0;

            // For Loop for 'Best out of 3' results
            for (let gameRound = 0; gameRound < 3; gameRound++){

                function playRound(playerSelection, computerSelection){ 

                    // Compares Player input to the Computer, decides the Winner of the Round
                    if (computerSelection.toUpperCase() === playerSelection.toUpperCase()){
                        playerScore++;
                        computerScore++;
                        alert(`Draw! Score: ${playerScore} ${computerScore}`);
                        console.log(`Player Choice: ${playerSelection}, Computer Choice: ${computerSelection}`);       
                    } else if (computerSelection === "Rock" && playerSelection.toUpperCase() === "PAPER") {
                        playerScore++;
                        alert(`Point to you! ${playerSelection} beats ${computerSelection}! Score: ${playerScore} ${computerScore}`);
                    } else if (computerSelection === "Rock" && playerSelection.toUpperCase() === "SCISSORS") {
                        computerScore++;
                        alert(`Point to AI! ${computerSelection} beats ${playerSelection} Score: ${playerScore} ${computerScore}`);
                    } else if (computerSelection === "Paper" && playerSelection.toUpperCase() === "ROCK") {
                        computerScore++;
                        alert(`Point to AI! ${computerSelection} beats ${playerSelection} Score: ${playerScore} ${computerScore}`);
                    } else if (computerSelection === "Paper" && playerSelection.toUpperCase() === "SCISSORS") {
                        playerScore++;
                        alert(`Point to you! ${playerSelection} beats ${computerSelection} Score: ${playerScore} ${computerScore}`);
                    } else if (computerSelection === "Scissors" && playerSelection.toUpperCase() === "ROCK") {
                        playerScore++;
                        alert(`Point to you! ${playerSelection} beats ${computerSelection} Score: ${playerScore} ${computerScore}`);                  
                    } else if (computerSelection === "Scissors" && playerSelection.toUpperCase() === "PAPER") {
                        playerScore++;
                        alert(`Point to AI! ${computerSelection} beats ${playerSelection} Score: ${playerScore} ${computerScore}`);
                    } else {
                        gameRound = 0;
                        alert("Please refresh and input a valid input.");
                        playerSelection = prompt("Rock, Paper or Scissors?");
                    }

                    console.log(computerSelection);
                }

                // Function to call random item for 'Rock Paper Scissors' Game
                // aiItem returns the randomised choice
                function computerPlay(){
                    const itemChoice = ["Rock", "Paper", "Scissors"];
                    let aiItem = itemChoice[Math.floor(Math.random()*itemChoice.length)];
                    return aiItem;
                }

                // Declare the Players Choice and Computers Choice
                let playerSelection = prompt("Rock, Paper or Scissors?");
                const computerSelection = computerPlay();
                console.log(`You have chosen: ${playerSelection.toUpperCase()}`);

                // Starts the Game Round
                console.log(playRound(playerSelection, computerSelection));

            }
            
            // Game Over Message
            if (playerScore > computerScore) {
                alert(`You win! You scored: ${playerScore} against ${computerScore}`);
            } else if (playerScore < computerScore) {
                alert(`You lose! You scored: ${playerScore} against ${computerScore}`);
            } else {
                alert(`Draw! You scored: ${playerScore} against ${computerScore}`);
            }
        }

        // Starts the Game
        console.log(game());

        // Play Again Loop (Will cancel when User declines)
        for (let continueGame = 1; continueGame > 0;){
            let playAgain = confirm("Play again?");
                if (playAgain) {
                    console.log(game());
                }
                else {
                    continueGame = 0;
                    alert("Goodbye!");
                }
        }
    </script>
</body>
</html>